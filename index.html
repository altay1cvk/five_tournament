<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="theme-color" content="#0a0a0a">
  <title>DITIB CUP</title>

  <link
    href="https://fonts.googleapis.com/css2?family=Oswald:wght@300;500;700&family=Rajdhani:wght@400;600;700&display=swap"
    rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>

  <style>
    :root {
      --primary: #00f2ea;
      --accent: #ffd700;
      --success: #00ff88;
      --bg-dark: #0a0a0a;
      --surface: #141414;
      --text-main: #ffffff;
      --text-muted: #a0a0a0;
      --bottom-nav-height: 80px;
      --safe-area-bottom: env(safe-area-inset-bottom, 0px);
      --safe-area-top: env(safe-area-inset-top, 0px);
    }

    * {
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      background-color: var(--bg-dark);
      color: var(--text-main);
      font-family: 'Rajdhani', sans-serif;
      margin: 0;
      padding: 0;
      padding-top: max(var(--safe-area-top), 20px);
      padding-bottom: calc(var(--bottom-nav-height) + var(--safe-area-bottom));
      overflow-x: hidden;
      background-image:
        radial-gradient(circle at 10% 20%, rgba(0, 242, 234, 0.08) 0%, transparent 40%),
        radial-gradient(circle at 90% 80%, rgba(255, 215, 0, 0.08) 0%, transparent 40%);
      -webkit-font-smoothing: antialiased;
    }

    h1,
    h2,
    h3 {
      font-family: 'Oswald', sans-serif;
      text-transform: uppercase;
      margin: 0;
    }

    /* ============ BOTTOM NAVIGATION ============ */
    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      height: calc(var(--bottom-nav-height) + var(--safe-area-bottom));
      background: rgba(10, 10, 10, 0.9);
      backdrop-filter: blur(40px) saturate(180%);
      -webkit-backdrop-filter: blur(40px) saturate(180%);
      border-top: 0.5px solid rgba(255, 255, 255, 0.1);
      z-index: 9999;
      display: flex;
      justify-content: space-around;
      align-items: flex-start;
      padding: 8px 0 var(--safe-area-bottom);
      box-shadow:
        0 -10px 40px rgba(0, 0, 0, 0.5),
        inset 0 1px 0 rgba(255, 255, 255, 0.05);
    }

    .nav-item {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 4px;
      padding: 8px 4px;
      text-decoration: none;
      color: var(--text-muted);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      min-width: 60px;
      max-width: 80px;
      cursor: pointer;
    }

    .nav-item i {
      font-size: 1.5rem;
      transition: all 0.3s;
    }

    .nav-item span {
      font-size: 0.7rem;
      font-weight: 600;
      letter-spacing: 0.3px;
      transition: all 0.3s;
    }

    .nav-item.active {
      color: var(--primary);
    }

    .nav-item.active i {
      transform: scale(1.1);
      filter: drop-shadow(0 0 8px var(--primary));
    }

    .nav-item:active {
      transform: scale(0.9);
    }

    /* ============ SECTIONS ============ */
    .section {
      display: none;
      min-height: 100vh;
      padding: 20px 15px;
      animation: fadeIn 0.4s ease;
    }

    .section.active {
      display: block;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* ============ HERO ============ */
    .hero {
      position: relative;
      min-height: 70vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      background: linear-gradient(0deg, var(--bg-dark) 0%, rgba(0, 0, 0, 0.7) 100%),
        url('https://images.unsplash.com/photo-1579952363873-27f3bde9be2b?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80');
      background-size: cover;
      background-position: center;
      border-radius: 0 0 30px 30px;
      margin: -20px -15px 30px;
      padding: 40px 20px;
      border-bottom: 3px solid var(--primary);
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
    }

    .hero-badge {
      background: linear-gradient(135deg, var(--accent), #ffed4e);
      color: #000;
      padding: 8px 20px;
      font-weight: 700;
      letter-spacing: 2px;
      margin-bottom: 12px;
      border-radius: 20px;
      font-size: clamp(0.7rem, 2.5vw, 0.85rem);
      box-shadow: 0 4px 15px rgba(255, 215, 0, 0.4);
      animation: badgePulse 2s ease-in-out infinite;
    }

    @keyframes badgePulse {

      0%,
      100% {
        transform: scale(1);
      }

      50% {
        transform: scale(1.05);
      }
    }

    h1 {
      font-size: clamp(3rem, 12vw, 5rem);
      line-height: 1;
      letter-spacing: -2px;
      text-shadow:
        0 0 20px rgba(0, 242, 234, 0.5),
        0 0 40px rgba(0, 242, 234, 0.3);
      margin-bottom: 20px;
      font-weight: 700;
    }

    h1 span {
      color: var(--primary);
      text-shadow:
        0 0 30px rgba(0, 242, 234, 0.8),
        0 0 60px rgba(0, 242, 234, 0.5);
      animation: neonFlicker 3s ease-in-out infinite;
    }

    @keyframes neonFlicker {

      0%,
      100% {
        opacity: 1;
      }

      50% {
        opacity: 0.85;
      }
    }

    /* ============ LOCATION BANNER ============ */
    .location-banner {
      margin: 20px 0;
      padding: 20px;
      background: linear-gradient(135deg, rgba(0, 242, 234, 0.15), rgba(0, 136, 255, 0.15));
      border: 2px solid rgba(0, 242, 234, 0.5);
      border-radius: 16px;
      box-shadow:
        0 8px 32px rgba(0, 242, 234, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
      max-width: 500px;
      width: 100%;
      text-align: center;
    }

    .location-icon {
      font-size: 2rem;
      margin-bottom: 10px;
      color: var(--primary);
      filter: drop-shadow(0 0 15px rgba(0, 242, 234, 0.6));
    }

    .location-title {
      font-size: clamp(1.1rem, 3.5vw, 1.3rem);
      color: var(--primary);
      font-weight: 700;
      margin-bottom: 8px;
      text-transform: uppercase;
      letter-spacing: 2px;
    }

    .location-address {
      font-size: clamp(0.95rem, 2.5vw, 1.08rem);
      color: #fff;
      line-height: 1.6;
      margin-bottom: 12px;
    }

    .location-link {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 12px 24px;
      background: linear-gradient(135deg, var(--primary), #00d4cc);
      color: #000;
      text-decoration: none;
      border-radius: 10px;
      font-weight: 700;
      font-size: clamp(0.9rem, 2.5vw, 1rem);
      transition: all 0.3s;
      box-shadow: 0 4px 15px rgba(0, 242, 234, 0.3);
    }

    .location-link:active {
      transform: scale(0.95);
      box-shadow: 0 6px 20px rgba(0, 242, 234, 0.5);
    }

    /* ============ PRIZE BANNER ============ */
    .prize-banner {
      margin: 20px 0;
      padding: 20px;
      background: linear-gradient(135deg, rgba(255, 215, 0, 0.15), rgba(0, 255, 136, 0.15));
      border: 2px solid rgba(255, 215, 0, 0.5);
      border-radius: 16px;
      box-shadow:
        0 8px 32px rgba(255, 215, 0, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
      position: relative;
      overflow: hidden;
      max-width: 500px;
      width: 100%;
    }

    .prize-banner::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.2), transparent);
      animation: prizeSweep 3s infinite;
    }

    @keyframes prizeSweep {
      0% {
        left: -100%;
      }

      100% {
        left: 100%;
      }
    }

    .prize-icon {
      font-size: 2.5rem;
      margin-bottom: 10px;
      filter: drop-shadow(0 0 15px rgba(255, 215, 0, 0.6));
    }

    .prize-title {
      font-size: clamp(1.1rem, 3.5vw, 1.4rem);
      color: var(--accent);
      font-weight: 700;
      margin-bottom: 8px;
      text-transform: uppercase;
      letter-spacing: 2px;
    }

    .prize-description {
      font-size: clamp(0.9rem, 2.5vw, 1.05rem);
      color: #fff;
      line-height: 1.5;
      font-weight: 600;
    }

    .prize-highlight {
      color: var(--primary);
      font-weight: 700;
      text-shadow: 0 0 10px rgba(0, 242, 234, 0.5);
    }

    /* ============ COUNTDOWN ============ */
    .countdown-wrapper {
      margin: 25px 0;
      padding: 20px;
      background: rgba(0, 0, 0, 0.6);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border: 2px solid rgba(0, 242, 234, 0.3);
      border-radius: 16px;
      box-shadow:
        0 8px 32px rgba(0, 0, 0, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
      width: 100%;
      max-width: 480px;
    }

    .countdown-title {
      font-size: clamp(0.95rem, 3vw, 1.15rem);
      color: var(--accent);
      margin-bottom: 15px;
      letter-spacing: 2px;
      font-weight: 600;
    }

    .countdown-display {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: clamp(8px, 2vw, 12px);
    }

    .countdown-unit {
      background: linear-gradient(145deg, rgba(26, 26, 26, 0.8), rgba(15, 15, 15, 0.8));
      border: 2px solid rgba(0, 242, 234, 0.4);
      border-radius: 10px;
      padding: clamp(10px, 2.5vw, 15px) 5px;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .countdown-unit::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(0, 242, 234, 0.1), transparent);
      animation: shimmer 3s infinite;
    }

    @keyframes shimmer {
      0% {
        left: -100%;
      }

      100% {
        left: 100%;
      }
    }

    .countdown-value {
      font-size: clamp(1.8rem, 7vw, 2.5rem);
      font-weight: 700;
      color: var(--primary);
      line-height: 1;
      text-shadow: 0 0 15px rgba(0, 242, 234, 0.6);
      font-family: 'Oswald', sans-serif;
    }

    .countdown-label {
      font-size: clamp(0.6rem, 1.8vw, 0.75rem);
      color: var(--text-muted);
      margin-top: 5px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .meta-info {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 10px;
      margin-top: 20px;
      width: 100%;
      max-width: 480px;
    }

    .meta-tag {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      color: #fff;
      background: rgba(0, 0, 0, 0.6);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      padding: 12px 15px;
      border-radius: 12px;
      min-height: 52px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      font-size: clamp(0.8rem, 2.3vw, 0.95rem);
    }

    .meta-tag i {
      color: var(--primary);
      font-size: 1.2em;
    }

    /* ============ CONTAINER ============ */
    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    /* ============ SECTION HEADER ============ */
    .section-header {
      font-size: clamp(2rem, 6vw, 2.5rem);
      margin-bottom: 25px;
      color: var(--primary);
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      padding-bottom: 15px;
      border-bottom: 3px solid var(--primary);
      flex-wrap: wrap;
    }

    /* ============ ADMIN BUTTON ============ */
    .admin-btn {
      padding: 8px 16px;
      background: rgba(255, 68, 68, 0.2);
      border: 2px solid #ff4444;
      color: #ff4444;
      border-radius: 8px;
      font-size: 0.85rem;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .admin-btn:active {
      background: rgba(255, 68, 68, 0.4);
      transform: scale(0.95);
    }

    .admin-btn.active {
      background: rgba(0, 255, 136, 0.2);
      border-color: var(--success);
      color: var(--success);
    }

    .phone-number {
      display: none;
      color: var(--accent);
      font-weight: 600;
      margin-top: 5px;
      font-size: 0.95rem;
    }

    .phone-number.show {
      display: block;
    }

    /* ============ TIMELINE ============ */
    .timeline {
      position: relative;
      padding-left: 40px;
      margin: 30px 0;
    }

    .timeline::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      width: 3px;
      background: linear-gradient(to bottom, var(--primary), var(--accent));
    }

    .timeline-item {
      position: relative;
      margin-bottom: 35px;
      padding-left: 20px;
    }

    .timeline-item::before {
      content: '';
      position: absolute;
      left: -46px;
      top: 5px;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background: var(--primary);
      border: 3px solid var(--bg-dark);
      box-shadow: 0 0 15px var(--primary);
      z-index: 1;
    }

    .timeline-item.special::before {
      background: linear-gradient(135deg, var(--accent), #ffed4e);
      width: 22px;
      height: 22px;
      left: -48px;
      box-shadow: 0 0 20px var(--accent);
      animation: specialPulse 2s ease-in-out infinite;
    }

    @keyframes specialPulse {

      0%,
      100% {
        transform: scale(1);
      }

      50% {
        transform: scale(1.2);
      }
    }

    .timeline-time {
      font-size: clamp(1.2rem, 3.5vw, 1.5rem);
      color: var(--accent);
      font-weight: 700;
      margin-bottom: 8px;
      font-family: 'Oswald';
      letter-spacing: 1px;
    }

    .timeline-content {
      font-size: clamp(0.95rem, 2.5vw, 1.08rem);
      line-height: 1.6;
      color: #ddd;
    }

    .timeline-content strong {
      color: #fff;
      font-weight: 600;
    }

    .reward-box {
      background: linear-gradient(135deg, rgba(255, 215, 0, 0.15), rgba(0, 255, 136, 0.15));
      border: 2px solid rgba(255, 215, 0, 0.4);
      border-radius: 12px;
      padding: 18px;
      margin-top: 15px;
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .reward-box i {
      font-size: 2.5rem;
      color: var(--accent);
      filter: drop-shadow(0 0 15px rgba(255, 215, 0, 0.6));
    }

    .reward-text {
      flex: 1;
    }

    .reward-text strong {
      display: block;
      color: var(--accent);
      font-size: 1.15em;
      margin-bottom: 5px;
    }

    /* ============ GLASS CARD ============ */
    .glass-card {
      background: rgba(20, 20, 20, 0.85);
      backdrop-filter: blur(15px);
      -webkit-backdrop-filter: blur(15px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      padding: 25px;
      border-radius: 16px;
      margin-bottom: 20px;
      position: relative;
      overflow: hidden;
    }

    .glass-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 5px;
      height: 100%;
      background: linear-gradient(to bottom, var(--accent), var(--primary));
    }

    .card-title {
      font-size: clamp(1.2rem, 3.5vw, 1.5rem);
      color: var(--accent);
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 10px;
      font-weight: 600;
    }

    .card-content {
      line-height: 1.7;
      color: #ddd;
      font-size: clamp(0.95rem, 2.5vw, 1.05rem);
    }

    .card-content ul {
      padding-left: 20px;
      margin: 0;
    }

    .card-content li {
      margin-bottom: 10px;
    }

    .card-content li::marker {
      color: var(--primary);
    }

    .info-box {
      background: rgba(0, 242, 234, 0.08);
      padding: 15px;
      border-radius: 10px;
      margin-top: 12px;
      border-left: 4px solid rgba(255, 215, 0, 0.6);
    }

    .info-box strong {
      color: var(--accent);
      display: block;
      margin-bottom: 8px;
      font-size: 1.05em;
    }

    /* ============ TEAMS ============ */
    .teams-grid {
      display: grid;
      gap: 20px;
      margin-top: 20px;
    }

    .team-card {
      background: linear-gradient(145deg, #1a1a1a, #222);
      border: 2px solid #333;
      border-radius: 16px;
      overflow: hidden;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    }

    .team-header {
      background: linear-gradient(135deg, #111, #1a1a1a);
      padding: 18px;
      border-bottom: 2px solid rgba(0, 242, 234, 0.3);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .team-name {
      font-size: clamp(1.4rem, 4vw, 1.7rem);
      color: white;
      font-family: 'Oswald';
      letter-spacing: 1px;
    }

    .team-body {
      padding: 18px;
    }

    .player-row {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px 0;
      border-bottom: 1px solid #333;
      font-size: clamp(1rem, 2.6vw, 1.12rem);
      min-height: 48px;
    }

    .player-row:last-child {
      border-bottom: none;
    }

    .captain-badge {
      color: var(--accent);
      filter: drop-shadow(0 0 5px var(--accent));
    }

    .team-actions {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1px;
      background: #333;
    }

    .btn-edit,
    .btn-delete {
      width: 100%;
      border: none;
      padding: 16px;
      font-weight: 700;
      cursor: pointer;
      font-family: 'Rajdhani';
      text-transform: uppercase;
      letter-spacing: 2px;
      font-size: clamp(0.9rem, 2.6vw, 1rem);
      min-height: 54px;
      transition: all 0.3s;
    }

    .btn-edit {
      background: linear-gradient(135deg, rgba(0, 242, 234, 0.2), rgba(0, 136, 255, 0.2));
      color: var(--primary);
    }

    .btn-edit:active {
      background: linear-gradient(135deg, var(--primary), #00d4cc);
      color: #000;
      transform: scale(0.98);
    }

    .btn-delete {
      background: linear-gradient(135deg, #2a0000, #1a0000);
      color: #ff4444;
    }

    .btn-delete:active {
      background: linear-gradient(135deg, #ff4444, #ff2222);
      color: white;
      transform: scale(0.98);
    }

    /* ============ FORM ============ */
    .input-group {
      margin-bottom: 15px;
    }

    input[type="text"],
    input[type="password"],
    input[type="tel"] {
      width: 100%;
      background: #0f0f0f;
      border: 2px solid #333;
      color: white;
      padding: 16px;
      font-family: 'Rajdhani';
      font-size: clamp(1rem, 2.6vw, 1.1rem);
      border-radius: 12px;
      min-height: 54px;
    }

    input:focus {
      border-color: var(--primary);
      outline: none;
      background: #1a1a1a;
      box-shadow: 0 0 15px rgba(0, 242, 234, 0.2);
    }

    label {
      display: block;
      margin-bottom: 8px;
      color: var(--text-muted);
      font-size: clamp(0.85rem, 2.2vw, 0.95rem);
      text-transform: uppercase;
      letter-spacing: 1.5px;
      font-weight: 600;
    }

    .btn-submit {
      width: 100%;
      padding: 20px;
      background: linear-gradient(135deg, var(--primary), #00d4cc);
      color: #000;
      border: none;
      font-size: clamp(1.3rem, 4vw, 1.7rem);
      cursor: pointer;
      font-weight: 700;
      border-radius: 14px;
      margin-top: 20px;
      min-height: 64px;
      box-shadow: 0 5px 20px rgba(0, 242, 234, 0.3);
      font-family: 'Oswald';
      letter-spacing: 2px;
      text-transform: uppercase;
    }

    .btn-submit:active {
      background: linear-gradient(135deg, #fff, var(--primary));
      transform: scale(0.98);
    }

    .btn-submit:disabled {
      background: #555 !important;
      cursor: not-allowed;
      opacity: 0.6;
    }

    .btn-cancel {
      width: 100%;
      padding: 16px;
      background: rgba(255, 68, 68, 0.2);
      border: 2px solid #ff4444;
      color: #ff4444;
      font-size: clamp(1.1rem, 3.5vw, 1.4rem);
      cursor: pointer;
      font-weight: 700;
      border-radius: 14px;
      margin-top: 10px;
      min-height: 58px;
      font-family: 'Oswald';
      letter-spacing: 2px;
      text-transform: uppercase;
    }

    .btn-cancel:active {
      background: rgba(255, 68, 68, 0.4);
      transform: scale(0.98);
    }

    .checkbox-container {
      margin-top: 20px;
      display: flex;
      align-items: flex-start;
      gap: 12px;
      color: #ccc;
      padding: 16px;
      background: rgba(255, 255, 255, 0.04);
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .checkbox-container input[type="checkbox"] {
      width: 24px;
      height: 24px;
      min-width: 24px;
      accent-color: var(--primary);
      cursor: pointer;
      margin: 0;
    }

    .checkbox-container label {
      margin: 0;
      cursor: pointer;
      line-height: 1.5;
      font-size: clamp(0.9rem, 2.5vw, 1rem);
      text-transform: none;
      letter-spacing: 0;
      font-weight: 400;
    }

    #loading {
      text-align: center;
      padding: 40px;
      font-size: clamp(1.2rem, 3.5vw, 1.5rem);
      color: var(--primary);
      animation: pulse 1.5s ease-in-out infinite;
    }

    @keyframes pulse {

      0%,
      100% {
        opacity: 0.4;
      }

      50% {
        opacity: 1;
      }
    }

    .count-badge {
      font-size: clamp(1.2rem, 3.5vw, 1.5rem);
      color: var(--primary);
      background: rgba(0, 242, 234, 0.1);
      padding: 8px 16px;
      border-radius: 10px;
      border: 2px solid var(--primary);
    }

    .form-mode-indicator {
      background: linear-gradient(135deg, rgba(0, 242, 234, 0.15), rgba(0, 136, 255, 0.15));
      border: 2px solid var(--primary);
      padding: 15px;
      border-radius: 12px;
      margin-bottom: 20px;
      text-align: center;
      font-weight: 600;
      color: var(--primary);
      font-size: clamp(1rem, 2.8vw, 1.15rem);
    }
  </style>
</head>

<body>

  <!-- ============ HOME SECTION ============ -->
  <div id="home" class="section active">
    <div class="hero">
      <div class="hero-badge">‚ö° OFFICIAL LEAGUE</div>
      <h1>DITIB <span>CUP</span></h1>

      <div class="location-banner">
        <div class="location-icon"><i class="fas fa-map-marker-alt"></i></div>
        <div class="location-title">Street Soccer Arbouans</div>
        <div class="location-address">
          8 Rue des Sabli√®res<br>
          25400 Arbouans
        </div>
        <a href="https://www.google.com/maps/place//data=!4m2!3m1!1s0x4792172e1c3924f3:0xf71711100dea4889?sa=X&ved=1t:8290&ictx=111"
          target="_blank" class="location-link">
          <i class="fas fa-map"></i> Ouvrir dans Maps
        </a>
      </div>

      <div class="prize-banner">
        <div class="prize-icon">üèÜ</div>
        <div class="prize-title">R√âCOMPENSE</div>
        <div class="prize-description">
          Une opportunit√© unique de repr√©senter <span class="prize-highlight">Valentigney DITIB</span> !
        </div>
      </div>

      <div class="countdown-wrapper">
        <div class="countdown-title"><i class="fas fa-hourglass-half"></i> COMPTE √Ä REBOURS</div>
        <div class="countdown-display">
          <div class="countdown-unit">
            <div class="countdown-value" id="days">00</div>
            <div class="countdown-label">Jours</div>
          </div>
          <div class="countdown-unit">
            <div class="countdown-value" id="hours">00</div>
            <div class="countdown-label">Heures</div>
          </div>
          <div class="countdown-unit">
            <div class="countdown-value" id="minutes">00</div>
            <div class="countdown-label">Min</div>
          </div>
          <div class="countdown-unit">
            <div class="countdown-value" id="seconds">00</div>
            <div class="countdown-label">Sec</div>
          </div>
        </div>
      </div>

      <div class="meta-info">
        <div class="meta-tag">
          <i class="fas fa-calendar-day"></i>
          <span>Dim. 28 D√©cembre</span>
        </div>
        <div class="meta-tag">
          <i class="fas fa-clock"></i>
          <span>13h - 14h30</span>
        </div>
        <div class="meta-tag">
          <i class="fas fa-futbol"></i>
          <span>2 Matchs 40 min</span>
        </div>
        <div class="meta-tag">
          <i class="fas fa-euro-sign"></i>
          <span>6‚Ç¨ / Joueur</span>
        </div>
      </div>
    </div>
  </div>

  <!-- ============ D√âROULEMENT SECTION ============ -->
  <div id="deroulement" class="section">
    <div class="container">
      <div class="section-header">
        <span><i class="fas fa-calendar-check"></i> D√âROULEMENT</span>
      </div>

      <div class="timeline">
        <div class="timeline-item">
          <div class="timeline-time"><i class="fas fa-play-circle"></i> 13h00 - 13h40</div>
          <div class="timeline-content">
            <strong>Premier Match</strong><br>
            <strong>Demi-finale 1 :</strong> √âquipe 1 vs √âquipe 2<br>
            Dur√©e : <strong>40 minutes</strong>
          </div>
        </div>

        <div class="timeline-item">
          <div class="timeline-time"><i class="fas fa-coffee"></i> 13h40 - 13h50</div>
          <div class="timeline-content">
            <strong>Pause</strong><br>
            Courte pause de <strong>10 minutes</strong> entre les deux matchs
          </div>
        </div>

        <div class="timeline-item">
          <div class="timeline-time"><i class="fas fa-trophy"></i> 13h50 - 14h30</div>
          <div class="timeline-content">
            <strong>Second Match</strong><br>
            <strong>Demi-finale 2 :</strong> √âquipe 3 vs √âquipe 4<br>
            Dur√©e : <strong>40 minutes</strong>
          </div>
        </div>

        <div class="timeline-item special">
          <div class="timeline-time"><i class="fas fa-medal"></i> 14h30</div>
          <div class="timeline-content">
            <strong>Remise de la r√©compense</strong>
            <div class="reward-box">
              <i class="fas fa-trophy"></i>
              <div class="reward-text">
                <strong>QUALIFICATION GAGN√âE !</strong>
                Une opportunit√© unique de repr√©senter Valentigney DITIB au tournoi inter-mosqu√©e.
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ============ R√àGLEMENT SECTION ============ -->
  <div id="reglement" class="section">
    <div class="container">
      <div class="section-header">
        <span><i class="fas fa-info-circle"></i> R√àGLEMENT</span>
      </div>

      <div class="glass-card">
        <div class="card-title"><i class="fas fa-trophy"></i> FORMAT DU TOURNOI</div>
        <div class="card-content">
          <ul>
            <li><strong>4 √âquipes</strong> - Places limit√©es !</li>
            <li><strong>2 Matchs de 40 minutes</strong> (demi-finales)</li>
            <li><strong>Pause :</strong> 10 minutes entre les matchs</li>
            <li><strong>Composition :</strong> 5 joueurs + 2 rempla√ßants max</li>
            <li><strong>Prix :</strong> 6‚Ç¨/joueur (sur place)</li>
            <li><strong>Date :</strong> Dimanche 28 D√©cembre 2025</li>
            <li><strong>Horaire :</strong> 13h - 14h30</li>
            <li><strong>Lieu :</strong> Street Soccer, Arbouans</li>
          </ul>
        </div>
      </div>

      <div class="glass-card" style="border-left-color: #00ff88;">
        <div class="card-title" style="color:#00ff88"><i class="fas fa-hands-helping"></i> FAIR-PLAY</div>
        <div class="card-content">
          <p>Comportement exemplaire exig√©. Esprit sportif et respect mutuel obligatoires.</p>
          <div class="info-box">
            <strong><i class="fas fa-tshirt"></i> TENUE (Effort appr√©ci√©) :</strong>
            Nous encourageons le port d'un short couvrant les genoux ou d'un legging par respect. Non obligatoire, mais
            tr√®s appr√©ci√©.
          </div>
        </div>
      </div>

      <div class="glass-card" style="border-left-color: var(--accent);">
        <div class="card-title"><i class="fas fa-star"></i> R√âCOMPENSE</div>
        <div class="card-content">
          <p><strong>Une opportunit√© unique de repr√©senter Valentigney DITIB !</strong></p>
        </div>
      </div>
    </div>
  </div>

  <!-- ============ √âQUIPES SECTION ============ -->
  <div id="equipes" class="section">
    <div class="container">
      <div class="section-header">
        <span><i class="fas fa-users"></i> √âQUIPES</span>
        <div style="display: flex; align-items: center; gap: 15px;">
          <button class="admin-btn" id="adminBtn" onclick="toggleAdmin()">
            <i class="fas fa-lock"></i> Admin
          </button>
          <span class="count-badge" id="count-display">0/4</span>
        </div>
      </div>

      <div id="loading"><i class="fas fa-circle-notch fa-spin"></i> Chargement...</div>
      <div id="teams-container" class="teams-grid"></div>
    </div>
  </div>

  <!-- ============ INSCRIPTION SECTION ============ -->
  <div id="inscription" class="section">
    <div class="container">
      <div class="section-header">
        <span><i class="fas fa-edit"></i> INSCRIPTION</span>
      </div>

      <div id="editModeIndicator" style="display: none;" class="form-mode-indicator">
        <i class="fas fa-edit"></i> MODE MODIFICATION
      </div>

      <p style="color:#aaa; margin-bottom: 20px; line-height:1.6; font-size: clamp(0.95rem, 2.5vw, 1.05rem);">
        Le capitaine remplit ce formulaire. Conservez votre mot de passe pour toute modification.
      </p>

      <form id="addTeamForm">
        <div class="input-group">
          <label><i class="fas fa-shield-alt"></i> Nom de l'√©quipe</label>
          <input type="text" id="teamName" placeholder="Ex: FC Valentigney" required>
        </div>

        <div class="input-group">
          <label><i class="fas fa-phone"></i> Num√©ro du capitaine</label>
          <input type="tel" id="captainPhone" placeholder="Ex: 06 12 34 56 78" required>
        </div>

        <div class="input-group">
          <label><i class="fas fa-key"></i> Mot de passe</label>
          <input type="password" id="teamPass" placeholder="Code secret" required>
        </div>

        <div style="margin-top: 20px;">
          <label><i class="fas fa-users"></i> COMPOSITION (5 √† 7 Joueurs)</label>
          <div style="display: grid; gap: 12px;">
            <input type="text" class="player-field" id="player1" placeholder="1. Capitaine" required
              style="border-left: 4px solid var(--accent);">
            <input type="text" class="player-field" id="player2" placeholder="2. Joueur" required>
            <input type="text" class="player-field" id="player3" placeholder="3. Joueur" required>
            <input type="text" class="player-field" id="player4" placeholder="4. Joueur" required>
            <input type="text" class="player-field" id="player5" placeholder="5. Joueur" required>
            <input type="text" class="player-field" id="player6" placeholder="6. Rempla√ßant (Optionnel)">
            <input type="text" class="player-field" id="player7" placeholder="7. Rempla√ßant (Optionnel)">
          </div>
        </div>

        <div class="checkbox-container">
          <input type="checkbox" required id="reglementCheck">
          <label for="reglementCheck">
            J'accepte les r√®gles, m'engage au fair-play et payerai 6‚Ç¨ par joueur sur place.
          </label>
        </div>

        <button type="submit" class="btn-submit" id="submitBtn">
          <i class="fas fa-check-circle"></i> VALIDER
        </button>

        <button type="button" class="btn-cancel" id="cancelBtn" style="display: none;" onclick="cancelEdit()">
          <i class="fas fa-times"></i> ANNULER
        </button>
      </form>
    </div>
  </div>

  <!-- ============ BOTTOM NAVIGATION ============ -->
  <nav class="bottom-nav">
    <a class="nav-item active" onclick="showSection('home')">
      <i class="fas fa-home"></i>
      <span>Accueil</span>
    </a>
    <a class="nav-item" onclick="showSection('deroulement')">
      <i class="fas fa-calendar-alt"></i>
      <span>Programme</span>
    </a>
    <a class="nav-item" onclick="showSection('reglement')">
      <i class="fas fa-info-circle"></i>
      <span>R√®gles</span>
    </a>
    <a class="nav-item" onclick="showSection('equipes')">
      <i class="fas fa-users"></i>
      <span>√âquipes</span>
    </a>
    <a class="nav-item" onclick="showSection('inscription')">
      <i class="fas fa-edit"></i>
      <span>Inscrire</span>
    </a>
  </nav>

  <script>
    let isAdminMode = false;
    let editingTeamKey = null;

    // ============ NAVIGATION ============
    function showSection(sectionId) {
      document.querySelectorAll('.section').forEach(section => {
        section.classList.remove('active');
      });

      document.getElementById(sectionId).classList.add('active');

      document.querySelectorAll('.nav-item').forEach((item, index) => {
        item.classList.remove('active');
      });
      event.currentTarget.classList.add('active');

      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // ============ ADMIN MODE ============
    function toggleAdmin() {
      if (!isAdminMode) {
        const code = prompt("üîê Code admin :");
        if (code === "fiveditib25") {
          isAdminMode = true;
          document.getElementById('adminBtn').classList.add('active');
          document.getElementById('adminBtn').innerHTML = '<i class="fas fa-unlock"></i> Admin';
          document.querySelectorAll('.phone-number').forEach(el => el.classList.add('show'));
          alert("‚úÖ Mode admin activ√© !");
        } else if (code) {
          alert("‚ùå Code incorrect !");
        }
      } else {
        isAdminMode = false;
        document.getElementById('adminBtn').classList.remove('active');
        document.getElementById('adminBtn').innerHTML = '<i class="fas fa-lock"></i> Admin';
        document.querySelectorAll('.phone-number').forEach(el => el.classList.remove('show'));
      }
    }

    // ============ EDIT FUNCTIONS ============
    function editTeam(key, teamPassword) {
      const userPass = prompt("üîê Mot de passe de l'√©quipe :");

      if (userPass !== teamPassword && userPass !== "admin90") {
        if (userPass) alert("‚ùå Mot de passe incorrect !");
        return;
      }

      // R√©cup√©rer les donn√©es de l'√©quipe
      db.ref('equipes/' + key).once('value', (snapshot) => {
        const team = snapshot.val();
        if (!team) return;

        // Remplir le formulaire
        document.getElementById('teamName').value = team.nom;
        document.getElementById('captainPhone').value = team.phone || '';
        document.getElementById('teamPass').value = team.password;

        // Remplir les joueurs
        team.joueurs.forEach((joueur, index) => {
          const input = document.getElementById('player' + (index + 1));
          if (input) input.value = joueur;
        });

        // Vider les champs vides
        for (let i = team.joueurs.length + 1; i <= 7; i++) {
          const input = document.getElementById('player' + i);
          if (input) input.value = '';
        }

        // Mode √©dition
        editingTeamKey = key;
        document.getElementById('editModeIndicator').style.display = 'block';
        document.getElementById('submitBtn').innerHTML = '<i class="fas fa-save"></i> SAUVEGARDER';
        document.getElementById('cancelBtn').style.display = 'block';
        document.getElementById('reglementCheck').checked = true;

        // Aller √† la section inscription
        showSection('inscription');

        // Scroll vers le formulaire
        setTimeout(() => {
          window.scrollTo({ top: 0, behavior: 'smooth' });
        }, 100);
      });
    }

    function cancelEdit() {
      editingTeamKey = null;
      document.getElementById('editModeIndicator').style.display = 'none';
      document.getElementById('submitBtn').innerHTML = '<i class="fas fa-check-circle"></i> VALIDER';
      document.getElementById('cancelBtn').style.display = 'none';
      document.getElementById('addTeamForm').reset();
    }

    // ============ COUNTDOWN ============
    function updateCountdown() {
      const targetDate = new Date('2025-12-28T13:00:00').getTime();
      const now = new Date().getTime();
      const distance = targetDate - now;

      if (distance < 0) {
        document.querySelector('.countdown-wrapper').innerHTML =
          '<div class="countdown-title" style="font-size:1.3rem">üèÜ LE TOURNOI A COMMENC√â ! üèÜ</div>';
        return;
      }

      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((distance % (1000 * 60)) / 1000);

      document.getElementById('days').textContent = String(days).padStart(2, '0');
      document.getElementById('hours').textContent = String(hours).padStart(2, '0');
      document.getElementById('minutes').textContent = String(minutes).padStart(2, '0');
      document.getElementById('seconds').textContent = String(seconds).padStart(2, '0');
    }

    setInterval(updateCountdown, 1000);
    updateCountdown();

    // ============ FIREBASE ============
    const firebaseConfig = {
      apiKey: "AIzaSyAWNBsqJRT2l4bebJCku-W8SsYWxIe6zko",
      authDomain: "tournoifoot-e233b.firebaseapp.com",
      databaseURL: "https://tournoifoot-e233b-default-rtdb.firebaseio.com",
      projectId: "tournoifoot-e233b",
      storageBucket: "tournoifoot-e233b.firebasestorage.app",
      messagingSenderId: "915558317701",
      appId: "1:915558317701:web:51b0b0d303f7989bfbb3ec",
      measurementId: "G-N5NWTN317Y"
    };

    try {
      firebase.initializeApp(firebaseConfig);
      var db = firebase.database();
      console.log("‚úÖ Firebase OK");
      listenToTeams();
    } catch (e) {
      console.error("‚ùå Firebase Error:", e);
      document.getElementById('loading').innerHTML =
        "<span style='color:#ff4444'>‚ö†Ô∏è ERREUR CONNEXION</span>";
    }

    function listenToTeams() {
      const container = document.getElementById('teams-container');
      const countDisplay = document.getElementById('count-display');
      const loading = document.getElementById('loading');

      db.ref('equipes').on('value', (snapshot) => {
        loading.style.display = 'none';
        container.innerHTML = '';
        const data = snapshot.val();

        if (!data) {
          container.innerHTML =
            '<div style="text-align:center; padding:40px; background:rgba(17,17,17,0.9); color:#777; border-radius:16px; border:2px dashed #333;">' +
            '<i class="fas fa-users" style="font-size:3rem; color:var(--primary); margin-bottom:15px;"></i><br>' +
            '<strong style="font-size:1.2rem;">Aucune √©quipe inscrite</strong><br>Soyez les premiers ! üî•</div>';
          countDisplay.innerText = "0/4";
          return;
        }

        const keys = Object.keys(data);
        countDisplay.innerText = `${keys.length}/4`;

        const submitBtn = document.querySelector('.btn-submit');
        if (keys.length >= 4 && !editingTeamKey) {
          submitBtn.innerHTML = "<i class='fas fa-lock'></i> COMPLET";
          submitBtn.disabled = true;
        } else if (!editingTeamKey) {
          submitBtn.disabled = false;
          submitBtn.innerHTML = "<i class='fas fa-check-circle'></i> VALIDER";
        }

        keys.forEach(key => {
          const team = data[key];
          const card = document.createElement('div');
          card.className = 'team-card';

          let playersHtml = "";
          if (team.joueurs) {
            playersHtml = team.joueurs.map((p, i) =>
              `<div class="player-row">
                <i class="${i === 0 ? 'fas fa-crown captain-badge' : 'fas fa-user'}" style="width:22px"></i>
                <span>${p}</span>
              </div>`
            ).join('');
          }

          const phoneDisplay = team.phone ?
            `<div class="phone-number ${isAdminMode ? 'show' : ''}">
              <i class="fas fa-phone"></i> ${team.phone}
            </div>` : '';

          card.innerHTML = `
            <div class="team-header">
              <div>
                <div class="team-name">${team.nom}</div>
                ${phoneDisplay}
              </div>
              <div style="color:#888; font-size:1.05rem"><i class="fas fa-users"></i> ${team.joueurs.length}</div>
            </div>
            <div class="team-body">
              ${playersHtml}
            </div>
            <div class="team-actions">
              <button class="btn-edit" onclick="editTeam('${key}', '${team.password}')">
                <i class="fas fa-edit"></i> Modifier
              </button>
              <button class="btn-delete" onclick="deleteTeam('${key}', '${team.password}')">
                <i class="fas fa-trash-alt"></i> Retirer
              </button>
            </div>
          `;
          container.appendChild(card);
        });
      });
    }

    document.getElementById('addTeamForm').addEventListener('submit', (e) => {
      e.preventDefault();

      const nom = document.getElementById('teamName').value.trim();
      const phone = document.getElementById('captainPhone').value.trim();
      const pass = document.getElementById('teamPass').value.trim();

      let joueurs = [];
      for (let i = 1; i <= 7; i++) {
        const input = document.getElementById('player' + i);
        if (input && input.value.trim() !== "") {
          joueurs.push(input.value.trim());
        }
      }

      if (joueurs.length < 5) {
        alert("‚ö†Ô∏è Minimum 5 joueurs requis.");
        return;
      }

      const btn = document.querySelector('.btn-submit');
      const originalHTML = btn.innerHTML;
      btn.innerHTML = "<i class='fas fa-spinner fa-spin'></i> ENVOI...";
      btn.disabled = true;

      const teamData = {
        nom: nom,
        phone: phone,
        password: pass,
        joueurs: joueurs,
        timestamp: Date.now()
      };

      if (editingTeamKey) {
        // MODE MODIFICATION
        db.ref('equipes/' + editingTeamKey).update(teamData, (error) => {
          if (error) {
            alert("‚ùå Erreur : " + error.message);
            btn.innerHTML = originalHTML;
            btn.disabled = false;
          } else {
            alert("‚úÖ √âquipe modifi√©e avec succ√®s !");
            document.getElementById('addTeamForm').reset();
            cancelEdit();
            btn.innerHTML = originalHTML;
            btn.disabled = false;
            showSection('equipes');
          }
        });
      } else {
        // MODE CR√âATION
        db.ref('equipes').once('value', (snap) => {
          if (snap.numChildren() >= 4) {
            alert("‚ùå Tournoi complet !");
            btn.innerHTML = originalHTML;
            btn.disabled = false;
            return;
          }

          db.ref('equipes').push(teamData, (error) => {
            if (error) {
              alert("‚ùå Erreur : " + error.message);
              btn.innerHTML = originalHTML;
              btn.disabled = false;
            } else {
              alert("‚úÖ √âquipe valid√©e !\n\nüìå Rappel : 6‚Ç¨/joueur sur place au Street Soccer d'Arbouans.");
              document.getElementById('addTeamForm').reset();
              btn.innerHTML = originalHTML;
              btn.disabled = false;
              showSection('equipes');
            }
          });
        });
      }
    });

    window.deleteTeam = function (key, realPassword) {
      const userPass = prompt("üîê Mot de passe :");
      if (userPass === realPassword || userPass === "admin90") {
        if (confirm("‚ö†Ô∏è Confirmer la suppression ?")) {
          db.ref('equipes/' + key).remove()
            .then(() => {
              alert("‚úÖ √âquipe supprim√©e");
              if (editingTeamKey === key) {
                cancelEdit();
              }
            })
            .catch(err => alert("‚ùå Erreur : " + err.message));
        }
      } else if (userPass) {
        alert("‚ùå Incorrect !");
      }
    };
  </script>
</body>

</html>
